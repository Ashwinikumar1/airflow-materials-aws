Description: >
    Marc Lamberti / marclamberti.com
    Udemy course: Apache Airflow on AWS: The Hands-On Course
    This template deploys a Cloud9 environment
    corresponding to the workstation and clone
    the repo where course materials are.

Parameters:

    EC2InstanceType:
      Description: EC2 instance type on which IDE runs
      Type: String

    AutoHibernateTimeout:
      Description: How many minutes idle before shutting down the IDE
      Type: Number

Resources:
    IDE:
      Type: AWS::Cloud9::EnvironmentEC2
      Properties:
        Repositories:
        - RepositoryUrl: https://github.com/marclamberti/airflow-materials-aws.git
          PathComponent: /airflow-materials-aws
        Description: Airflow workstation
        AutomaticStopTimeMinutes:
          Ref: AutoHibernateTimeout
        InstanceType:
          Ref: EC2InstanceType
        Name:
          Ref: AWS::StackName